const int data = 4;
const int latch = 5;
const int clock = 6;
int filas[8]={127,191,223,239,247,251,253,254};//Estas son las filas a barrer.
int col[8]={};//Aqui es donde va el dibujo dividido en filas, por comodidad lo convertimos a decimal.
bool w;



bool GetBit( byte N, int pos)//Esta funcion me saca el bit en la posicion deseada.
   {                          
       int b = N >> pos ;       
       b = b & 1 ;              
       return b ;
   }
           
           
void setup()
{
 
  pinMode(data, OUTPUT);
  pinMode(latch, OUTPUT);
  pinMode(clock, OUTPUT); 
 
}





void loop()
{
  for(int x=0;x<8;x++){
    for(int i=0;i<8;i++){ //Este for escribe los 8 bits de cada columna.
    	w=GetBit(col[x],i);
          if(w==true){
          digitalWrite(data,HIGH);
          digitalWrite(clock,HIGH);
          digitalWrite(clock,LOW);
                     }
      else{
          digitalWrite(data,LOW);
          digitalWrite(clock,HIGH);
          digitalWrite(clock,LOW);
          }
    }
    for(int j=0;j<8;j++){ //Este for escribe los 8 bits de la fila y empuja a los de arriba hasta su posicion final
      w=GetBit(filas[x],j);
      if(w==true){
          digitalWrite(data,HIGH);
          digitalWrite(clock,HIGH);
          digitalWrite(clock,LOW);
                     }
      else{
          digitalWrite(data,LOW);
          digitalWrite(clock,HIGH);
          digitalWrite(clock,LOW);
          }
      
    }
    //Cuando ya todos los bits estan en su posicion activo la salida:
    digitalWrite(latch,HIGH);
    digitalWrite(latch,LOW);
    delay(5);// Para ver como se dibuja lentamente.
  }
    
    
  
}
